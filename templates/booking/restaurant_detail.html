{% extends 'base.html' %}

{% load static %}  <!-- This line is necessary to use the 'static' template tag -->

{% block title %}{{ restaurant.name }}{% endblock %}

{% block content %}
<a href="/booking/restaurants/" class="back-button">
     &lt; Back
</a>
<div class="restaurant-detail">
    <div class="gallery">
        <!-- Placeholder for image gallery -->
        {% for image in restaurant.images.all %}
        <img src="{{ image.url }}" alt="Image of {{ restaurant.name }}">
        {% endfor %}
    </div>
    <h2>{{ restaurant.name }}</h2>
    <div class="restaurant-meta">
        <span class="location">{{ restaurant.location }}</span>
        <span class="capacity">Capacity: {{ restaurant.capacity }} guests</span>
    </div>
    <div class="rating">
        <span>4,2</span>
        <span class="stars">★★★★☆</span>
        <span>(14)</span>
    </div>
    <div class="description">
        <h3>Description</h3>
        <p>{{ restaurant.description }}</p>
        <p> plein de blabla</p>
    </div>
    <div class="button-container">
        <a href="/booking/restaurants-form/">
            <button type="button" id="reserve-button">Réserver</button>
        </a>
        <a href="/booking/restaurants-form/">
            <button type="button" id="evaluate-button">Évaluer</button>
        </a>
    </div>
    <div class="map-container">
        <div id="map"></div>
        <script async defer 
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq1Wk1v6DIKHQqvi4-94l-L7lVwdTQzJQ&callback=initMap">
        </script>
        <script src="{% static 'js/restaurant-map.js' %}"></script>
    </div>
    
    
    <div class="reviews">
        <h3>Reviews</h3>
        {% for review in restaurant.reviews.all %}
        <div class="review">
            <strong>{{ review.user.username }}</strong>
            <p>{{ review.content }}</p>
            <span>Rating: {{ review.rating }}/5</span>
        </div>
        {% empty %}
        <p>No reviews yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/restaurant-map.js' %}"></script>
{% endblock %}
